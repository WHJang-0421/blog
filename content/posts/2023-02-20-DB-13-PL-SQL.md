---
title:  "오라클 DB 13: PL/SQL"
author: "Woohyuk Jang"
draft: false

date: "2023-02-20"
description: ""
categories:
  - cs/db
tags:
  - Blog
---
### 오라클 DB #13: PL/SQL



이 글은 [오라클로 배우는 데이터베이스 입문](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=171630125) 16장을 읽고 정리한 내용이다.



1. PL/SQL (Procedural Language Extension to SQL)



* SQL은 변수가 없고, 한번에 한 문장씩 실행시켜야 하며, 분기 및 반복이 없다는 점에서 많은 한계를 보인다. 오라클에서는 PL/SQL을 제공하여 이런 문제를 해결한다.

* PL/SQL에서 SELECT, DML, TCL등의 기존 SQL문을 사용할 수 있다. DDL과 DCL은 못 쓴다.

* PL/SQL의 기본 단위는 블록이다. 블록은 다음의 구조로 되어 있다:



```

DELCARE -- 생략 가능

-- 변수 선언

BEGIN

-- 조건문, 반복문, SELECT, DML 등

EXCEPTION -- 생략 가능

-- 예외 처리

END;

```



* 중첩 블록을 사용할 수 있다.



2\. 변수 선언 & 출력



```

DECLARE

  V_NO NUMBER(4) := 7595; -- '변수명 자료형 := 값'으로 초기화

  V_NAME VARCHAR2(20); -- '변수명 자료형'으로 선언

BEGIN

  V_NAME := 'TOM'; -- 실행부에서도 변수 값을 변경시킬 수 있다.

  DBMS_OUTPUT.PUT_LINE('V_NO: ' || V_NO);

  DBMS_OUTPUT.PUT_LINE('V_NAME: ' || V_NAME);

/*

DBMS_OUTPUT.PUT_LINE의 결과를 콘솔에서 보려면 세션 환경변수를 설정해야 한다:

SET SERVEROUTPUT ON;

*/

END;

```



```

DECLARE

  -- 변수 선언

  변수명 [CONSTANT] 자료형 [NOT NULL] [:=/DEFAULT 값/표현식]

BEGIN

-- 실행부...

END;

```



* 변수의 자료형은 스칼라 (scalar), 복합 (composite), 참조 (reference), LOB(large object)형이 있다. 스칼라는 날짜, 숫자, 문자, BOOLEAN 등의 기본적 자료형이다. 참조형은 특정 테이블 열/행의 구조를 참조하는 자료형이다.



```

DECLARE

  V_NO USER_DB.DEPTNO%TYPE := 50; -- 열의 자료형 참조

  V_USER_ROW USER_DB%ROWTYPE; -- 테이블의 행 참조

BEGIN

  SELECT * FROM USER_DB INTO V_USER_ROW; -- SELECT INTO 문을 이용하여 대입

  DBMS_OUTPUT.PUT_LINE('V_NO: ' || V_NO);

  DBMS_OUTPUT.PUT_LINE('USER_NAME: ' || V_USER_ROW.UNAME);

END;

```



* 복합형은 여러 종류/개수의 데이터를 저장하는 변수로 오라클 DB #14에서 다룬다. LOB는 이미지, 동영상 등의 대용량 데이터를 저장하는 자료형이다.



3\. 조건 제어문



```

-- 당연하지만 이건 실행부 (BEGIN) 안에 있다.



-- IF 문

IF 조건식 THEN

  수행할 것

ELSIF 조건식 THEN

  수행할 것

ELSE

  수행할 것

END IF;



/* CASE 문: SQL에서의 CASE문과 비슷하지만 END 대신 END CASE로 끝난다는 차이가 있다.

단순 CASE문과 검색 CASE문 모두 사용 가능하다.

*/

CASE 비교기준

  WHEN 값1 THEN

    할일;

  ELSE

    할일;

END CASE;

```



4\. 반복 제어문



```

-- LOOP문: 안을 반복

LOOP

  할일;

END LOOP;



-- WHILE LOOP문

WHILE 조건 LOOP

  할일;

END LOOP;



-- FOR LOOP 문

FOR i IN [REVERSE] 시작..종료 LOOP -- i: counter, for loop에서 바로 정의 가능.

  할일;

END LOOP;

```



```

-- 반복문의 흐름 제어를 위해 루프 내에서 다음의 명령어를 사용할 수 있다.



-- 반복 종료

EXIT

EXIT WHEN 조건



-- 한 주기 건너뜀

CONTINUE

CONTINUE WHEN 조건

```



5\. 참고자료/더 깊이 파고 싶다면…



[**Do it! 오라클로 배우는 데이터베이스 입문**\

*현업 프로그래머이자 강사인 저자가 수많은 프로젝트 경험을 살려 실무에서 진짜 필요한 기본기를 중심으로 내용을 구성했다. 본문 내용은 비전공자도 알기 쉽게 도해와 비유로 풀어 썼고 427개의 예제는 실무에서 ...*&#x77;ww.aladin.co.kr](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=171630125 "https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=171630125")[](https://www.aladin.co.kr/shop/wproduct.aspx?ItemId=171630125)



[**\[Oracle\] PL/SQL 기초 (정의, 특징, 사용방법, 변수선언 방법)**\

*Oracle\] PL/SQL 기초 (정의, 특징, 사용방법, 변수선언 방법) 안녕하세요. 갓대희 입니다. 이번 포스팅은 \[PL/SQL 기초\] 입니다. :) ▶ PL/SQL (Procedural Language…*&#x67;oddaehee.tistory.com](https://goddaehee.tistory.com/99 "https://goddaehee.tistory.com/99")[](https://goddaehee.tistory.com/99)



By [Woohyuk Jang](https://medium.com/@morrranii) on [February 20, 2023](https://medium.com/p/5db08cd2dc16).

Exported from [Medium](https://medium.com) on August 26, 2025.
